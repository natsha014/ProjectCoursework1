# ProjectCoursework1

## Описание:

Приложение для анализа транзакций, которые находятся в Excel-файле. Приложение будет генерировать JSON-данные для веб-страниц, формировать Excel-отчеты, а также предоставлять другие сервисы.

## Установка:

1. Убедись, что у тебя установлен Python версии 3.13.5

2. Клонируй репозиторий

```
git clone https://github.com/username/project-x.git
```

3. Установи зависимости

```
pip install -r requirements.txt
```

## Использование:

### Запуск приложения через команду:
```
python -m src.main
```

### Пример использования функций:

```
from src.views import str_main
```

'''Функция принимает на вход строку с датой и временем в формате
    YYYY-MM-DD HH:MM:SS и возвращает JSON-ответ со следующими данными:
    - Приветствие в формате «Доброе утро» / «Добрый день» / «Добрый вечер» / «Доброй ночи»
    в зависимости от текущего времени
    - По каждой карте: последние 4 цифры карты; общая сумма расходов; кешбэк (1 рубль на каждые 100 рублей)
    - Топ-5 транзакций по сумме платежа
    - Курс валют
    - Стоимость акций из S&P500'''

```
from src.services import get_cash_month
```
'''Функция принимает файл, год, месяц и возвращает список выгодных категорий повышенного кэшбэка'''

```
from src.reports import spending_by_category
```

'''Функция возвращает траты по заданной категории за последние
    три месяца (от переданной даты)'''

## Тестирование:

1. Установка Pytest:

```
# Установка через Poetry
poetry add --group dev pytest
```

2. Запуск тестов:

```
# команда для запуска тестов
pytest
```

3. Структура тестов:

тестовые файлы находятся в папке [tests] (./tests)

4. Покрытие тестами:

```
# команда для проверки покрытия тестами
pytest --cov=src --cov-report=html
```

## Запуск проекта

Запуск проекта осуществляется при помощи функции main в модуле src.main, 
которая отвечает за основную логику проекта и связывает функциональности между собой.

Также можно запустить через команду:

```
python -m src.main
```

### Ожидаемое поведение программы должно быть следующим:

Программа просит ввести дату:

```
Введите дату в формате YYYY-MM-DD HH:MM:SS, чтобы получить данные с начала месяца
....
```

Программа выдает риветствие в формате «Доброе утро» / «Добрый день» / «Добрый вечер» / «Доброй ночи»
    в зависимости от текущего времени
    - По каждой карте: последние 4 цифры карты; общая сумма расходов; кешбэк (1 рубль на каждые 100 рублей)
    - Топ-5 транзакций по сумме платежа
    - Курс валют
    - Стоимость акций из S&P500

```
Чтобы получить список выгодных категорий повышенного кэшбэка за месяц

введите год....

введите месяц...
```

Программа выдает список выгодных категорий повышенного кэшбэка

```
Чтобы получить траты по заданной категории за последние три месяца

Введите категорию...

Ведите дату (необязательно)...
```

Программа выдает траты по заданной категории за последние ри месяца (от переданной даты)

## Документация:

Для получения дополнительной информации обратитесь к [README](./README.md).
